Commit: ðŸš¨ EMERGENCY FILE COPY: All .sh files forced copy - validate-system.sh fix 2025-12-10 
##########################################
### Download Github Archive Started...
### Wed, 10 Dec 2025 00:59:27 GMT
##########################################

#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 5.05kB 0.0s done
#1 DONE 0.1s

#2 [internal] load metadata for docker.io/library/node:18-alpine
#2 DONE 0.8s

#3 [internal] load .dockerignore
#3 transferring context: 2B 0.1s done
#3 DONE 0.2s

#4 [internal] load build context
#4 DONE 0.0s

#5 [base 1/1] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
#5 resolve docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
#5 resolve docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e 0.2s done
#5 DONE 0.2s

#5 [base 1/1] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
#5 CACHED

#6 [deps 1/4] RUN apk add --no-cache libc6-compat
#6 ...

#7 [builder 1/5] WORKDIR /app
#7 CACHED

#4 [internal] load build context
#4 transferring context: 7.82kB 0.1s done
#4 DONE 0.4s

#8 [runner  2/19] RUN addgroup --system --gid 1001 nodejs
#8 DONE 0.6s

#6 [deps 1/4] RUN apk add --no-cache libc6-compat
#6 0.488 fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/main/x86_64/APKINDEX.tar.gz
#6 0.931 fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/community/x86_64/APKINDEX.tar.gz
#6 ...

#9 [runner  3/19] RUN adduser --system --uid 1001 nextjs
#9 DONE 1.1s

#6 [deps 1/4] RUN apk add --no-cache libc6-compat
#6 1.878 (1/3) Installing musl-obstack (1.2.3-r2)
#6 1.920 (2/3) Installing libucontext (1.3.2-r0)
#6 1.949 (3/3) Installing gcompat (1.1.0-r4)
#6 1.977 OK: 10 MiB in 20 packages
#6 DONE 2.3s

#10 [deps 2/4] WORKDIR /app
#10 DONE 0.3s

#11 [deps 3/4] COPY package*.json ./
#11 DONE 0.5s

#12 [deps 4/4] RUN npm config set fetch-timeout 600000 &&     npm config set fetch-retries 5 &&     npm config set fetch-retry-mintimeout 20000 &&     npm config set fetch-retry-maxtimeout 120000 &&     npm install --prefer-offline --ignore-scripts ||     (echo "ERROR: npm install fallÃ³ - Intentando con configuraciÃ³n alternativa..." &&      npm install --no-optional --ignore-scripts --legacy-peer-deps) ||     echo "ERROR: npm install fallÃ³ completamente - revisar conectividad de red"
#12 122.8 npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
#12 128.0 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
#12 129.9 npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
#12 130.6 npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
#12 134.1 npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
#12 144.5 npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
#12 186.5 
#12 186.5 added 577 packages, and audited 578 packages in 3m
#12 186.5 
#12 186.5 165 packages are looking for funding
#12 186.5   run `npm fund` for details
#12 186.8 
#12 186.8 4 vulnerabilities (3 high, 1 critical)
#12 186.8 
#12 186.8 To address all issues (including breaking changes), run:
#12 186.8   npm audit fix --force
#12 186.8 
#12 186.8 Run `npm audit` for details.
#12 DONE 188.0s

#13 [builder 2/5] COPY --from=deps /app/node_modules ./node_modules
#13 DONE 13.9s

#14 [builder 3/5] COPY . .
#14 DONE 0.8s

#15 [builder 4/5] RUN npx prisma generate
#15 0.723 npm error config prefix cannot be changed from project config: /app/.npmrc.
#15 5.153 warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
#15 5.153 For more information, see: https://pris.ly/prisma-config
#15 5.153 
#15 7.279 Prisma schema loaded from prisma/schema.prisma
#15 8.205 
#15 8.205 âœ” Generated Prisma Client (v6.19.0) to ./node_modules/@prisma/client in 330ms
#15 8.205 
#15 8.205 Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
#15 8.205 
#15 8.205 Tip: Interested in query caching in just a few lines of code? Try Accelerate today! https://pris.ly/tip-3-accelerate
#15 8.205 
#15 8.271 npm notice
#15 8.271 npm notice New major version of npm available! 10.8.2 -> 11.7.0
#15 8.271 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
#15 8.271 npm notice To update run: npm install -g npm@11.7.0
#15 8.271 npm notice
#15 DONE 8.4s

#16 [builder 5/5] RUN npm run build
#16 0.655 npm error config prefix cannot be changed from project config: /app/.npmrc.
#16 0.801 
#16 0.801 > aurum-invest-station-SYNC-FORCED-2025-12-09-14:51:26@1.0.0 build
#16 0.801 > prisma generate && next build
#16 0.801 
#16 3.578 warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
#16 3.578 For more information, see: https://pris.ly/prisma-config
#16 3.578 
#16 4.837 Prisma schema loaded from prisma/schema.prisma
#16 5.805 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
#16 5.805 â”‚  Update available 6.19.0 -> 7.1.0                       â”‚
#16 5.805 â”‚                                                         â”‚
#16 5.805 â”‚  This is a major update - please follow the guide at    â”‚
#16 5.805 â”‚  https://pris.ly/d/major-version-upgrade                â”‚
#16 5.805 â”‚                                                         â”‚
#16 5.805 â”‚  Run the following to update                            â”‚
#16 5.805 â”‚    npm i --save-dev prisma@latest                       â”‚
#16 5.805 â”‚    npm i @prisma/client@latest                          â”‚
#16 5.805 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#16 5.806 
#16 5.806 âœ” Generated Prisma Client (v6.19.0) to ./node_modules/@prisma/client in 308ms
#16 5.806 
#16 5.806 Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
#16 5.806 
#16 5.806 Tip: Interested in query caching in just a few lines of code? Try Accelerate today! https://pris.ly/tip-3-accelerate
#16 5.806 
#16 7.756 Attention: Next.js now collects completely anonymous telemetry regarding usage.
#16 7.756 This information is used to shape Next.js' roadmap and prioritize features.
#16 7.763 You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#16 7.763 https://nextjs.org/telemetry
#16 7.770 
#16 8.090   â–² Next.js 14.2.18
#16 8.090 
#16 8.492    Creating an optimized production build ...
#16 8.521    Downloading swc package @next/swc-linux-x64-gnu...
#16 9.604 error package.json: Name contains illegal characters
#16 17.56    Downloading swc package @next/swc-linux-x64-musl...
#16 18.93 error package.json: Name contains illegal characters
#16 22.02 unhandledRejection TypeError: terminated
#16 22.02     at Fetch.onAborted (node:internal/deps/undici/undici:11209:53)
#16 22.02     at Fetch.emit (node:events:517:28)
#16 22.02     at Fetch.terminate (node:internal/deps/undici/undici:10394:14)
#16 22.02     at Object.onError (node:internal/deps/undici/undici:11327:38)
#16 22.02     at _Request.onError (node:internal/deps/undici/undici:7479:31)
#16 22.02     at errorRequest (node:internal/deps/undici/undici:10049:17)
#16 22.02     at TLSSocket.onSocketClose (node:internal/deps/undici/undici:9204:9)
#16 22.02     at TLSSocket.emit (node:events:529:35)
#16 22.02     at node:net:350:12
#16 22.02     at TCP.done (node:_tls_wrap:657:7) {
#16 22.02   [cause]: SocketError: other side closed
#16 22.02       at TLSSocket.onSocketEnd (node:internal/deps/undici/undici:9180:26)
#16 22.02       at TLSSocket.emit (node:events:529:35)
#16 22.02       at endReadableNT (node:internal/streams/readable:1400:12)
#16 22.02       at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
#16 22.02     code: 'UND_ERR_SOCKET',
#16 22.02     socket: {
#16 22.02       localAddress: '2605:a140:2294:5737::1',
#16 22.02       localPort: 38872,
#16 22.02       remoteAddress: undefined,
#16 22.02       remotePort: undefined,
#16 22.02       remoteFamily: undefined,
#16 22.02       timeout: undefined,
#16 22.02       bytesWritten: 234,
#16 22.02       bytesRead: 30087240
#16 22.02     }
#16 22.02   }
#16 22.02 }
#16 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
------
 > [builder 5/5] RUN npm run build:
22.02       localPort: 38872,
22.02       remoteAddress: undefined,
22.02       remotePort: undefined,
22.02       remoteFamily: undefined,
22.02       timeout: undefined,
22.02       bytesWritten: 234,
22.02       bytesRead: 30087240
22.02     }
22.02   }
22.02 }
------

 4 warnings found (use docker --debug to expand):
 - LegacyKeyValueFormat: "ENV key=value" should be used instead of legacy "ENV key value" format (line 102)
 - LegacyKeyValueFormat: "ENV key=value" should be used instead of legacy "ENV key value" format (line 103)
 - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "NEXTAUTH_SECRET") (line 46)
 - LegacyKeyValueFormat: "ENV key=value" should be used instead of legacy "ENV key value" format (line 56)
Dockerfile:50
--------------------
  48 |     
  49 |     # Build the application
  50 | >>> RUN npm run build
  51 |     
  52 |     # Production image, copy all the files and run next
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
##########################################
### Error
### Wed, 10 Dec 2025 01:03:39 GMT
##########################################

Command failed with exit code 1: docker buildx build --network host -f /etc/easypanel/projects/qhosting/aurum-station/code/Dockerfile -t easypanel/qhosting/aurum-station --label 'keep=true' --no-cache --build-arg 'DATABASE_URL=postgres://postgres:064ce323a1bcd063838c@qhosting_aurum-station-db:5432/aurum-station-db?sslmode=disable' --build-arg 'NEXTAUTH_SECRET=lmM3csYY5lO99PgS/2EKso34xZtoSy/U6GuhvRWgWAM=' --build-arg 'NEXTAUTH_URL=https://auruminvest.mx' --build-arg 'NEXT_PUBLIC_CHATWOOT_BASE_URL=https://chat.auruminvest.mx' --build-arg 'NEXT_PUBLIC_CHATWOOT_TOKEN=tu_token_aqui' --build-arg 'NODE_ENV=production' --build-arg 'PORT=3000' --build-arg 'CHATWOOT_BASE_URL=https://chat.qhosting.net' --build-arg 'GIT_SHA=2bc7e3ac78a1d4b80175ad0f28eedb41f7897fb6' /etc/easypanel/projects/qhosting/aurum-station/code/